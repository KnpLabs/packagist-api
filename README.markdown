# Packagist API [![Build Status](https://travis-ci.org/KnpLabs/packagist-api.png)](https://travis-ci.org/KnpLabs/packagist-api) [![Code Coverage](https://scrutinizer-ci.com/g/KnpLabs/packagist-api/badges/coverage.png?b=master)](https://scrutinizer-ci.com/g/KnpLabs/packagist-api/?branch=master) [![Latest Stable Version](https://poser.pugx.org/KnpLabs/packagist-api/v/stable.png)](https://packagist.org/packages/KnpLabs/packagist-api) [![Total Downloads](https://poser.pugx.org/KnpLabs/packagist-api/downloads.png)](https://packagist.org/packages/KnpLabs/packagist-api)

Simple object oriented wrapper for Packagist API.

## Installation

The recommended way to install Packagist API is through composer:

```json
{
    "require": {
        "knplabs/packagist-api": "1.*@dev"
    }
}
```

## Usage

#### Search for packages:

```php
<?php

// This file is generated by Composer
require_once 'vendor/autoload.php';

$client = Packagist\Api\PackagistApiClientFactory::getInstance();

foreach ($client->search('sylius') as $result) {
    echo $result->getName();
}

// Outputs:
sylius/sylius
sylius/resource-bundle
sylius/cart-bundle
sylius/flow-bundle
sylius/sales-bundle
sylius/shipping-bundle
sylius/taxation-bundle
sylius/money-bundle
sylius/assortment-bundle
sylius/addressing-bundle
sylius/payments-bundle
sylius/taxonomies-bundle
sylius/inventory-bundle
sylius/settings-bundle
sylius/promotions-bundle
...
```

#### Get package details:

```php

$client = Packagist\Api\PackagistApiClientFactory::getInstance();
$package = $client->get('sylius/sylius');

/* @var $package \Packagist\Api\Result\Package */

printf(
    'Package %s. %s. Read more on %s.',
    $package->getName(),
    $package->getDescription()
);

// Outputs:
Package sylius/sylius. Modern ecommerce for Symfony2.
```

#### List all packages:

```php
foreach ($client->all() as $package) {
    echo $package;
}

// Outputs:
abhinavsingh/jaxl
abishekrsrikaanth/fuel-util
abmundi/database-commands-bundle
...
```

#### They can be filtered by type, vendor or tag:

```php
$client = Packagist\Api\PackagistApiClientFactory::getInstance();

$filter = new Packagist\Api\Filter();
$filter->setType("library");

$client->all($filter);

$filter = new Packagist\Api\Filter();
$filter->setVendor("sylius");
$client->all($filter);


$filter = new Packagist\Api\Filter();
$filter->addTag("framework")
       ->addTag("ORM");
       
$client->all($filter);

// Filter can be combined !

$filter = new Packagist\Api\Filter();
$filter->addTag("framework")
       ->addTag("ORM")
       ->setVendor("sylius")
       ->setType("library");
       
$client->all($filter);

```

#### Custom Packagist Repositories

You can also set a custom Packagist Repository URL:

```php
$client = Packagist\Api\PackagistApiClientFactory::getInstance('https://custom.packagist.site.org');
```

## License

`packagist-api` is licensed under the MIT License - see the LICENSE file for details.
